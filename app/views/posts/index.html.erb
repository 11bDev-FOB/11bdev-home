<!-- Blog Index: Tales from the Foxhole -->
<section class="py-20 bg-vintage-cream min-h-screen">
  <div class="max-w-2xl mx-auto px-4 sm:px-6">
    <!-- Header -->
    <div class="text-center mb-20">
      <h1 class="text-5xl font-bold text-olive mb-4">Tales From the Foxhole</h1>
      <p class="text-xl text-gray-400">News, thoughts, and babble from behind the lines at 11bDEV.</p>
    </div>
    
    <% if @posts.any? %>
      <!-- Year Groups -->
      <% @posts.group_by { |p| p.published_at&.year }.each do |year, year_posts| %>
        <div class="mb-12">
          <h2 class="text-4xl font-bold text-white mb-6 pl-0"><%= year %></h2>
          
          <div class="space-y-2" style="margin-left: 3rem;">
            <% year_posts.each do |post| %>
              <div class="flex items-center gap-4">
                <!-- Date (left, fixed width) -->
                <div class="text-gray-400 text-right w-40 flex-shrink-0">
                  <%= post.published_at&.strftime('%-d %b') %>
                </div>
                
                <!-- Title (center, flexible with padding) -->
                <div class="flex-1 text-center px-6">
                  <%= link_to post.title, post_path(post), class: "text-gray-300 hover:text-white transition-colors" %>
                </div>
                
                <!-- Tags (right, fixed width matching left) -->
                <div class="flex gap-2 justify-end w-40 flex-shrink-0">
                  <% if post.tag_list.any? %>
                    <% post.tag_list.each do |tag| %>
                      <span class="text-gray-500">#<%= tag %></span>
                    <% end %>
                  <% end %>
                </div>
              </div>
            <% end %>
          </div>
        </div>
      <% end %>
    <% else %>
      <div class="text-center text-gray-500">No posts yet.</div>
    <% end %>
  </div>
</section>
