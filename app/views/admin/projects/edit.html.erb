<!-- Admin Edit Project -->
<section class="py-16 bg-vintage-cream min-h-screen">
  <div class="container-11b max-w-2xl mx-auto">
    <%= render 'admin/nav' %>
    <h1 class="text-3xl font-bold text-dark-olive mb-8">Edit Project</h1>
    <%= form_with model: @project, url: admin_project_path(@project), local: true, method: :patch, class: "space-y-6" do |form| %>
      <div>
  <%= form.label :title, "Title", class: "block font-semibold text-dark-olive mb-2" %>
  <%= form.text_field :title, class: "w-full px-4 py-3 border rounded-lg" %>
      <div>
        <%= form.label :tech_stack, "Tech Stack", class: "block font-semibold text-dark-olive mb-2" %>
        <%= form.text_field :tech_stack, class: "w-full px-4 py-3 border rounded-lg" %>
      </div>
      <div>
        <%= form.label :client_outcome, "Client Outcome", class: "block font-semibold text-dark-olive mb-2" %>
        <%= form.text_field :client_outcome, class: "w-full px-4 py-3 border rounded-lg" %>
      </div>
      <div>
        <%= form.label :project_url, "Project URL", class: "block font-semibold text-dark-olive mb-2" %>
        <%= form.text_field :project_url, class: "w-full px-4 py-3 border rounded-lg" %>
      </div>
      </div>
      <div>
        <%= form.label :open_source, "Open Source?", class: "block font-semibold text-dark-olive mb-2" %>
        <%= form.check_box :open_source, class: "w-5 h-5" %>
        <small class="text-gray-500 ml-2">Check if this project is open source</small>
      </div>
      <div>
        <%= form.label :description, "Description", class: "block font-semibold text-dark-olive mb-2" %>
        <div data-controller="markdown-preview" class="border-2 border-olive/30 rounded-lg overflow-hidden">
          <!-- Tabs -->
          <div class="flex border-b border-gray-200 bg-gray-50">
            <button type="button" 
                    class="px-6 py-3 font-semibold border-b-2 border-olive text-dark-olive bg-white transition"
                    data-action="click->markdown-preview#showWrite"
                    data-markdown-preview-target="writeTab">
              Write
            </button>
            <button type="button" 
                    class="px-6 py-3 font-semibold border-b-2 border-transparent text-gray-500 hover:text-gray-700 transition"
                    data-action="click->markdown-preview#showPreview"
                    data-markdown-preview-target="previewTab">
              Preview
            </button>
          </div>
          
          <!-- Write Pane -->
          <div data-markdown-preview-target="writePane">
            <%= form.text_area :description, rows: 12, class: "w-full px-4 py-3 font-mono text-sm leading-relaxed border-0 focus:outline-none focus:ring-0", data: { "markdown-preview-target": "input" } %>
          </div>
          
          <!-- Preview Pane -->
          <div data-markdown-preview-target="previewPane" class="hidden">
            <div class="prose prose-lg prose-olive max-w-none p-6 min-h-[300px]" data-markdown-preview-target="preview"></div>
          </div>
        </div>
        <small class="text-gray-600 mt-2 block">Write in <strong>Markdown</strong>. Use the Preview tab to see formatted output.</small>
      </div>
      <div>
        <%= form.label :featured_image, "Cover Image", class: "block font-semibold text-dark-olive mb-2" %>
        <%= form.file_field :featured_image, class: "w-full px-4 py-3 border rounded-lg" %>
      </div>
      <div>
        <%= form.label :published, "Publish Now?", class: "block font-semibold text-dark-olive mb-2" %>
        <%= form.check_box :published %>
      </div>
      <div>
        <%= form.submit "Update Project", class: "btn-military" %>
        <%= link_to "Cancel", admin_projects_path, class: "btn-hippie ml-4" %>
      </div>
    <% end %>
  </div>
</section>
